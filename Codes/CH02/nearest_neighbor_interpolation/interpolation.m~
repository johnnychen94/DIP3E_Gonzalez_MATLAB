% % % Image Interpolation in Section 2.4.4, including:
% % %       Nearest neighbor interpolation,
% % %       Bilinear interpolation,
% % %       Bicubic interpolation.
% % %
% % % Nearest neighbor interpolation assign the value of the 'nearest' pixel to new pixels.
% % % It is simple but might produce undesirable artifacts, such as severe distortion of straight edges.
% % % 
% % % Bilinear interpolation (TODO: more description)
% % %
% % %
% % % Bicubic interpolation (TODO: more description)


% % global variables
INPUTFILENAME = 'dpi_72_original.png';
ORIGINAL_DATA = imread(INPUTFILENAME);

OUTPUTSIZE = [3692,2812];   % when this script becomes function, these should be input parameters.
INPUTSIZE = size(original_data);



% % create output array
dpi_72_NNI_data = zeros(OUTPUTSIZE);



% % Nearest neighbor interpolation
% TODO: check if this nested loop can be replaced for better performance
for i = 1:Xsize
    for j = 1:Ysize
        
        % get the nearest
        [x0,y0] = nearest_pixel([i,j],OUTPUTSIZE,INPUTSIZE); % noting the output image are corresponding input parameters in nearest_pixel.
    
        
        % deal with border situations
        % TODO: use logical operation to shorten this if-end-if loop
        if h==0 
            h=h+1;
        end
        if k==0
            k=k+1;
        end     
        if h>Xsize
            h = h-1;
        end
        if k>Ysize
            k = k-1;
        end
        
        % assign values
        dpi_72_NNI_data(i,j) = ...
            dpi_72_original_data(h,k);
    end
end



% % Bilinear interpolation
% TODO: check if this nested loop can be replaced for better performance
for i = 1:Xsize
    for j = 1:Ysize
        % TODO: 
    end
end



% % pre-show processing
dpi_72_original_data = double(dpi_72_original_data)./255;
dpi_72_NNI_data = double(dpi_72_NNI_data)./255;

% % show image
%subplot(2,4,1),imshow(dpi_72_original_data);
%subplot(2,4,2),imshow(dpi_72_NNI_data);
%subplot(2,4,5),imshow(dpi_150_NNI_data);

% % save image
imwrite(dpi_72_original_data,'dpi_72_original.png');
imwrite(dpi_72_NNI_data,'dpi_72_NNI.png');
imwrite(dpi_150_original_data,'dpi_150_original.png');





